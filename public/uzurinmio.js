// Generated by CoffeeScript 1.3.3
(function() {
  var exports;

  exports = this;

  jQuery(function($) {
    var canvas, chart, socket;
    canvas = document.getElementById("canvas");
    chart = new PieChart(document.getElementById("canvas"));
    exports.chart = chart;
    chart.radius = canvas.height / 2;
    socket = io.connect(location.host);
    socket.on("update", function(data) {
      console.log(data);
      chart.update(data);
      return chart.draw();
    });
    socket.on("increased", function(name) {
      chart.increase(name);
      return chart.draw();
    });
    return $(".vote").on("click touchend", function() {
      socket.emit("increase", this.name);
      return false;
    });
  });

}).call(this);
